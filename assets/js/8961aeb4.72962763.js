"use strict";(self.webpackChunkalndaly_github_io=self.webpackChunkalndaly_github_io||[]).push([[8881],{3881:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>r});var t=i(8101);const l={},s=t.createContext(l);function c(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),t.createElement(s.Provider,{value:n},e.children)}},6076:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>h,contentTitle:()=>r,default:()=>a,frontMatter:()=>c,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"artificial-intelligence/opencv/start/image-thresholding","title":"06: \u9608\u503c\u5206\u5272","description":"\u5b66\u4e60\u4f7f\u7528\u4e0d\u540c\u7684\u9608\u503c\u65b9\u6cd5\\"\u4e8c\u503c\u5316\\"\u56fe\u50cf\u3002\u56fe\u7247\u7b49\u53ef\u5230\u6587\u672b\u5f15\u7528\u5904\u4e0b\u8f7d\u3002","source":"@site/docs/artificial-intelligence/opencv/start/06-image-thresholding.md","sourceDirName":"artificial-intelligence/opencv/start","slug":"/artificial-intelligence/opencv/start/image-thresholding","permalink":"/docs/artificial-intelligence/opencv/start/image-thresholding","draft":false,"unlisted":false,"editUrl":"https://github.com/Alndaly/alndaly.github.io/tree/main/packages/create-docusaurus/templates/shared/docs/artificial-intelligence/opencv/start/06-image-thresholding.md","tags":[],"version":"current","lastUpdatedAt":1742397248000,"sidebarPosition":6,"frontMatter":{},"sidebar":"ai","previous":{"title":"05: \u989c\u8272\u7a7a\u95f4\u8f6c\u6362","permalink":"/docs/artificial-intelligence/opencv/start/changing-colorspaces"},"next":{"title":"07: \u56fe\u50cf\u51e0\u4f55\u53d8\u6362","permalink":"/docs/artificial-intelligence/opencv/start/image-geometric-transformation"}}');var l=i(5105),s=i(3881);const c={},r="06: \u9608\u503c\u5206\u5272",h={},d=[{value:"\u76ee\u6807",id:"\u76ee\u6807",level:2},{value:"\u6559\u7a0b",id:"\u6559\u7a0b",level:2},{value:"\u56fa\u5b9a\u9608\u503c\u5206\u5272",id:"\u56fa\u5b9a\u9608\u503c\u5206\u5272",level:3},{value:"\u81ea\u9002\u5e94\u9608\u503c",id:"\u81ea\u9002\u5e94\u9608\u503c",level:3},{value:"Otsu \u9608\u503c",id:"otsu-\u9608\u503c",level:3},{value:"\u5c0f\u7ed3",id:"\u5c0f\u7ed3",level:2},{value:"\u7ec3\u4e60",id:"\u7ec3\u4e60",level:2},{value:"\u63a5\u53e3\u6587\u6863",id:"\u63a5\u53e3\u6587\u6863",level:2},{value:"\u5f15\u7528",id:"\u5f15\u7528",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"06-\u9608\u503c\u5206\u5272",children:"06: \u9608\u503c\u5206\u5272"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"http://cos.codec.wang/cv2_threshold_binary_demo.jpg",alt:""})}),"\n",(0,l.jsx)(n.p,{children:'\u5b66\u4e60\u4f7f\u7528\u4e0d\u540c\u7684\u9608\u503c\u65b9\u6cd5"\u4e8c\u503c\u5316"\u56fe\u50cf\u3002\u56fe\u7247\u7b49\u53ef\u5230\u6587\u672b\u5f15\u7528\u5904\u4e0b\u8f7d\u3002'}),"\n",(0,l.jsx)(n.h2,{id:"\u76ee\u6807",children:"\u76ee\u6807"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'\u4f7f\u7528\u56fa\u5b9a\u9608\u503c\u3001\u81ea\u9002\u5e94\u9608\u503c\u548c Otsu \u9608\u503c\u6cd5"\u4e8c\u503c\u5316"\u56fe\u50cf'}),"\n",(0,l.jsxs)(n.li,{children:["OpenCV \u51fd\u6570\uff1a",(0,l.jsx)(n.code,{children:"cv2.threshold()"}),", ",(0,l.jsx)(n.code,{children:"cv2.adaptiveThreshold()"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u6559\u7a0b",children:"\u6559\u7a0b"}),"\n",(0,l.jsx)(n.h3,{id:"\u56fa\u5b9a\u9608\u503c\u5206\u5272",children:"\u56fa\u5b9a\u9608\u503c\u5206\u5272"}),"\n",(0,l.jsx)(n.p,{children:"\u56fa\u5b9a\u9608\u503c\u5206\u5272\u5f88\u76f4\u63a5\uff0c\u4e00\u53e5\u8bdd\u8bf4\u5c31\u662f\u50cf\u7d20\u70b9\u503c\u5927\u4e8e\u9608\u503c\u53d8\u6210\u4e00\u7c7b\u503c\uff0c\u5c0f\u4e8e\u9608\u503c\u53d8\u6210\u53e6\u4e00\u7c7b\u503c\u3002"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"http://cos.codec.wang/cv2_threshold_binary_demo.jpg",alt:""})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"import cv2\n\n# \u7070\u5ea6\u56fe\u8bfb\u5165\nimg = cv2.imread('gradient.jpg', 0)\n\n# \u9608\u503c\u5206\u5272\nret, th = cv2.threshold(img, 127, 255, cv2.THRESH_BINARY)\ncv2.imshow('thresh', th)\ncv2.waitKey(0)\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"cv2.threshold()"}),"\u7528\u6765\u5b9e\u73b0\u9608\u503c\u5206\u5272\uff0cret \u4ee3\u8868\u5f53\u524d\u7684\u9608\u503c\uff0c\u6682\u65f6\u4e0d\u7528\u7406\u4f1a\u3002\u51fd\u6570\u6709 4 \u4e2a\u53c2\u6570\uff1a"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u53c2\u6570 1\uff1a\u8981\u5904\u7406\u7684\u539f\u56fe\uff0c",(0,l.jsx)(n.strong,{children:"\u4e00\u822c\u662f\u7070\u5ea6\u56fe"})]}),"\n",(0,l.jsx)(n.li,{children:"\u53c2\u6570 2\uff1a\u8bbe\u5b9a\u7684\u9608\u503c"}),"\n",(0,l.jsxs)(n.li,{children:["\u53c2\u6570 3\uff1a\u5bf9\u4e8e",(0,l.jsx)(n.code,{children:"THRESH_BINARY"}),"\u3001",(0,l.jsx)(n.code,{children:"THRESH_BINARY_INV"}),"\u9608\u503c\u65b9\u6cd5\u6240\u9009\u7528\u7684\u6700\u5927\u9608\u503c\uff0c\u4e00\u822c\u4e3a 255"]}),"\n",(0,l.jsxs)(n.li,{children:["\u53c2\u6570 4\uff1a\u9608\u503c\u7684\u65b9\u5f0f\uff0c\u4e3b\u8981\u6709 5 \u79cd\uff0c\u8be6\u60c5\uff1a",(0,l.jsx)(n.a,{href:"https://docs.opencv.org/4.0.0/d7/d1b/group__imgproc__misc.html#gaa9e58d2860d4afa658ef70a9b1115576",children:"ThresholdTypes"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4e0b\u9762\u7ed3\u5408\u4ee3\u7801\u7406\u89e3\u4e0b\u8fd9 5 \u79cd\u9608\u503c\u65b9\u5f0f\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"import matplotlib.pyplot as plt\n\n# \u5e94\u7528 5 \u79cd\u4e0d\u540c\u7684\u9608\u503c\u65b9\u6cd5\nret, th1 = cv2.threshold(img, 127, 255, cv2.THRESH_BINARY)\nret, th2 = cv2.threshold(img, 127, 255, cv2.THRESH_BINARY_INV)\nret, th3 = cv2.threshold(img, 127, 255, cv2.THRESH_TRUNC)\nret, th4 = cv2.threshold(img, 127, 255, cv2.THRESH_TOZERO)\nret, th5 = cv2.threshold(img, 127, 255, cv2.THRESH_TOZERO_INV)\n\ntitles = ['Original', 'BINARY', 'BINARY_INV', 'TRUNC', 'TOZERO', 'TOZERO_INV']\nimages = [img, th1, th2, th3, th4, th5]\n\n# \u4f7f\u7528 Matplotlib \u663e\u793a\nfor i in range(6):\n    plt.subplot(2, 3, i + 1)\n    plt.imshow(images[i], 'gray')\n    plt.title(titles[i], fontsize=8)\n    plt.xticks([]), plt.yticks([])  # \u9690\u85cf\u5750\u6807\u8f74\n\nplt.show()\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"http://cos.codec.wang/cv2_different_threshold_demo.jpg",alt:"5 \u79cd\u4e0d\u540c\u7684\u9608\u503c\u65b9\u5f0f\u7ed3\u679c"})}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["\u5f88\u591a\u4eba\u8bef\u4ee5\u4e3a\u9608\u503c\u5206\u5272\u5c31\u662f ",(0,l.jsx)(n.a,{href:"https://baike.baidu.com/item/%E4%BA%8C%E5%80%BC%E5%8C%96",children:"\u4e8c\u503c\u5316"}),"\u3002\u4ece\u4e0a\u56fe\u4e2d\u53ef\u4ee5\u53d1\u73b0\uff0c\u4e24\u8005\u5e76\u4e0d\u7b49\u540c\uff0c\u9608\u503c\u5206\u5272\u7ed3\u679c\u662f\u4e24\u7c7b\u503c\uff0c\u800c\u4e0d\u662f\u4e24\u4e2a\u503c\uff0c\u6240\u4ee5\u6559\u7a0b\u5f00\u5934\u6211\u628a\u4e8c\u503c\u5316\u52a0\u4e86\u5f15\u53f7\u3002"]})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"http://cos.codec.wang/cv2_different_thresholds_theory.jpg",alt:""})}),"\n",(0,l.jsx)(n.h3,{id:"\u81ea\u9002\u5e94\u9608\u503c",children:"\u81ea\u9002\u5e94\u9608\u503c"}),"\n",(0,l.jsxs)(n.p,{children:["\u770b\u5f97\u51fa\u6765\u56fa\u5b9a\u9608\u503c\u662f\u5728\u6574\u5e45\u56fe\u7247\u4e0a\u5e94\u7528\u4e00\u4e2a\u9608\u503c\u8fdb\u884c\u5206\u5272\uff0c",(0,l.jsx)(n.em,{children:"\u5b83\u5e76\u4e0d\u9002\u7528\u4e8e\u660e\u6697\u5206\u5e03\u4e0d\u5747\u7684\u56fe\u7247"}),"\u3002 ",(0,l.jsx)(n.code,{children:"cv2.adaptiveThreshold()"}),"\u81ea\u9002\u5e94\u9608\u503c\u4f1a\u6bcf\u6b21\u53d6\u56fe\u7247\u7684\u4e00\u5c0f\u90e8\u5206\u8ba1\u7b97\u9608\u503c\uff0c\u8fd9\u6837\u56fe\u7247\u4e0d\u540c\u533a\u57df\u7684\u9608\u503c\u5c31\u4e0d\u5c3d\u76f8\u540c\u3002\u5b83\u6709 5 \u4e2a\u53c2\u6570\uff0c\u5176\u5b9e\u5f88\u597d\u7406\u89e3\uff0c\u5148\u770b\u4e0b\u6548\u679c\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# \u81ea\u9002\u5e94\u9608\u503c\u5bf9\u6bd4\u56fa\u5b9a\u9608\u503c\nimg = cv2.imread('sudoku.jpg', 0)\n\n# \u56fa\u5b9a\u9608\u503c\nret, th1 = cv2.threshold(img, 127, 255, cv2.THRESH_BINARY)\n# \u81ea\u9002\u5e94\u9608\u503c\nth2 = cv2.adaptiveThreshold(\n    img, 255, cv2.ADAPTIVE_THRESH_MEAN_C, cv2.THRESH_BINARY, 11, 4)\nth3 = cv2.adaptiveThreshold(\n    img, 255, cv2.ADAPTIVE_THRESH_GAUSSIAN_C, cv2.THRESH_BINARY, 17, 6)\n\ntitles = ['Original', 'Global(v = 127)', 'Adaptive Mean', 'Adaptive Gaussian']\nimages = [img, th1, th2, th3]\n\nfor i in range(4):\n    plt.subplot(2, 2, i + 1), plt.imshow(images[i], 'gray')\n    plt.title(titles[i], fontsize=8)\n    plt.xticks([]), plt.yticks([])\nplt.show()\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"http://cos.codec.wang/cv2_adaptive_vs_global_thresholding.jpg",alt:"\u81ea\u9002\u5e94\u9608\u503c\u5bf9\u6bd4\u56fa\u5b9a\u9608\u503c"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u53c2\u6570 1\uff1a\u8981\u5904\u7406\u7684\u539f\u56fe"}),"\n",(0,l.jsx)(n.li,{children:"\u53c2\u6570 2\uff1a\u6700\u5927\u9608\u503c\uff0c\u4e00\u822c\u4e3a 255"}),"\n",(0,l.jsxs)(n.li,{children:["\u53c2\u6570 3\uff1a\u5c0f\u533a\u57df\u9608\u503c\u7684\u8ba1\u7b97\u65b9\u5f0f","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ADAPTIVE_THRESH_MEAN_C"}),"\uff1a\u5c0f\u533a\u57df\u5185\u53d6\u5747\u503c"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ADAPTIVE_THRESH_GAUSSIAN_C"}),"\uff1a\u5c0f\u533a\u57df\u5185\u52a0\u6743\u6c42\u548c\uff0c\u6743\u91cd\u662f\u4e2a\u9ad8\u65af\u6838"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u53c2\u6570 4\uff1a\u9608\u503c\u65b9\u6cd5\uff0c\u53ea\u80fd\u4f7f\u7528",(0,l.jsx)(n.code,{children:"THRESH_BINARY"}),"\u3001",(0,l.jsx)(n.code,{children:"THRESH_BINARY_INV"}),"\uff0c\u5177\u4f53\u89c1\u524d\u9762\u6240\u8bb2\u7684\u9608\u503c\u65b9\u6cd5"]}),"\n",(0,l.jsx)(n.li,{children:"\u53c2\u6570 5\uff1a\u5c0f\u533a\u57df\u7684\u9762\u79ef\uff0c\u5982 11 \u5c31\u662f 11*11 \u7684\u5c0f\u5757"}),"\n",(0,l.jsx)(n.li,{children:"\u53c2\u6570 6\uff1a\u6700\u7ec8\u9608\u503c\u7b49\u4e8e\u5c0f\u533a\u57df\u8ba1\u7b97\u51fa\u7684\u9608\u503c\u518d\u51cf\u53bb\u6b64\u503c"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679c\u4f60\u6ca1\u770b\u61c2\u4e0a\u9762\u7684\u53c2\u6570\u4e5f\u4e0d\u8981\u7d27\uff0c\u6682\u65f6\u4f1a\u7528\u5c31\u884c\uff0c\u5f53\u7136\u6211\u5efa\u8bae\u4f60\u8c03\u6574\u4e0b\u53c2\u6570\u770b\u770b\u4e0d\u540c\u7684\u7ed3\u679c\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"otsu-\u9608\u503c",children:"Otsu \u9608\u503c"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u524d\u9762\u56fa\u5b9a\u9608\u503c\u4e2d\uff0c\u6211\u4eec\u662f\u968f\u4fbf\u9009\u4e86\u4e00\u4e2a\u9608\u503c\u5982 127\uff0c\u90a3\u5982\u4f55\u77e5\u9053\u6211\u4eec\u9009\u7684\u8fd9\u4e2a\u9608\u503c\u6548\u679c\u597d\u4e0d\u597d\u5462\uff1f\u7b54\u6848\u662f\uff1a\u4e0d\u65ad\u5c1d\u8bd5\uff0c\u6240\u4ee5\u8fd9\u79cd\u65b9\u6cd5\u5728\u5f88\u591a\u6587\u732e\u4e2d\u90fd\u88ab\u79f0\u4e3a\u7ecf\u9a8c\u9608\u503c\u3002",(0,l.jsx)(n.a,{href:"https://baike.baidu.com/item/otsu/16252828",children:"Otsu \u9608\u503c\u6cd5"}),"\u5c31\u63d0\u4f9b\u4e86\u4e00\u79cd\u81ea\u52a8\u9ad8\u6548\u7684\u4e8c\u503c\u5316\u65b9\u6cd5\uff0c\u4e0d\u8fc7\u6211\u4eec\u76f4\u65b9\u56fe\u8fd8\u6ca1\u5b66\uff0c\u8fd9\u91cc\u6682\u65f6\u7565\u8fc7\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u597d\u5427\uff0c\u6211\u77e5\u9053\u6211\u6fc0\u8d77\u4e86\u4f60\u7684\u5174\u8da3\uff0c~ o(",(0,l.jsx)(n.em,{children:"\uffe3 \u25bd \uffe3"}),")o\uff0c\u6709\u80fd\u529b\u7684\u7ae5\u978b\u53ef\u4ee5\u770b\u4e0b",(0,l.jsx)(n.a,{href:"#%E7%BB%83%E4%B9%A0",children:"\u7ec3\u4e60\u9898"}),"\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"\u5c0f\u7ed3",children:"\u5c0f\u7ed3"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"cv2.threshold()"}),"\u7528\u6765\u8fdb\u884c\u56fa\u5b9a\u9608\u503c\u5206\u5272\u3002\u56fa\u5b9a\u9608\u503c\u4e0d\u9002\u7528\u4e8e\u5149\u7ebf\u4e0d\u5747\u5300\u7684\u56fe\u7247\uff0c\u6240\u4ee5\u7528 ",(0,l.jsx)(n.code,{children:"cv2.adaptiveThreshold()"}),"\u8fdb\u884c\u81ea\u9002\u5e94\u9608\u503c\u5206\u5272\u3002"]}),"\n",(0,l.jsx)(n.li,{children:"\u4e8c\u503c\u5316\u8ddf\u9608\u503c\u5206\u5272\u5e76\u4e0d\u7b49\u540c\u3002\u9488\u5bf9\u4e0d\u540c\u7684\u56fe\u7247\uff0c\u53ef\u4ee5\u91c7\u7528\u4e0d\u540c\u7684\u9608\u503c\u65b9\u6cd5\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u7ec3\u4e60",children:"\u7ec3\u4e60"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Otsu \u9608\u503c\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u4e8c\u503c\u5316\u7b97\u6cd5\uff0c\u8bf7\u9605\u8bfb",(0,l.jsx)(n.a,{href:"./extra-04-otsu-thresholding/",children:"\u756a\u5916\u7bc7\uff1aOtsu \u9608\u503c\u6cd5"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u63a5\u53e3\u6587\u6863",children:"\u63a5\u53e3\u6587\u6863"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.opencv.org/4.0.0/d7/d1b/group__imgproc__misc.html#gae8a4a146d1ca78c626a53577199e9c57",children:"cv2.threshold()"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.opencv.org/4.0.0/d7/d1b/group__imgproc__misc.html#ga72b913f352e4a1b1b397736707afcde3",children:"cv2.adaptiveThreshold()"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.opencv.org/4.0.0/d7/d1b/group__imgproc__misc.html#gaa9e58d2860d4afa658ef70a9b1115576",children:"cv2.ThresholdTypes()"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u5f15\u7528",children:"\u5f15\u7528"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/codecwang/OpenCV-Python-Tutorial/tree/master/06-Image-Thresholding",children:"\u672c\u8282\u6e90\u7801"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"http://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_thresholding/py_thresholding.html",children:"Image Thresholding"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}}}]);