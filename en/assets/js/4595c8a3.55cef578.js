"use strict";(self.webpackChunkalndaly_github_io=self.webpackChunkalndaly_github_io||[]).push([[3153],{3881:(t,e,n)=>{n.d(e,{R:()=>p,x:()=>i});var r=n(8101);const s={},o=r.createContext(s);function p(t){const e=r.useContext(o);return r.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function i(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:p(t.components),r.createElement(o.Provider,{value:e},t.children)}},7680:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>h,contentTitle:()=>i,default:()=>c,frontMatter:()=>p,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"others/http2\u7684\u722c\u866b","title":"httpx[http2]","description":"httpx\u9700\u8981Python3.6+\uff08\u4f7f\u7528\u5f02\u6b65\u8bf7\u6c42\u9700\u8981Python3.8+\uff09","source":"@site/docs/others/http2\u7684\u722c\u866b.md","sourceDirName":"others","slug":"/others/http2\u7684\u722c\u866b","permalink":"/en/docs/others/http2\u7684\u722c\u866b","draft":false,"unlisted":false,"editUrl":"https://github.com/Alndaly/alndaly.github.io/tree/main/packages/create-docusaurus/templates/shared/docs/others/http2\u7684\u722c\u866b.md","tags":[],"version":"current","lastUpdatedAt":1742398290000,"frontMatter":{"title":"httpx[http2]"},"sidebar":"anyThing","previous":{"title":"\u884c\u4e3a\u578b\u6a21\u5f0f","permalink":"/en/docs/others/design-pattern/\u884c\u4e3a\u578b\u6a21\u5f0f"},"next":{"title":"\u5185\u7f51\u7a7f\u900f","permalink":"/en/docs/category/\u5185\u7f51\u7a7f\u900f"}}');var s=n(5105),o=n(3881);const p={title:"httpx[http2]"},i=void 0,h={},l=[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:2},{value:"\u7c7b\u4f3c\u7684\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528POST, PUT, DELETE, HEAD\u548cOPTIONS\u7b49\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5982\u4e0b",id:"\u7c7b\u4f3c\u7684\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528post-put-delete-head\u548coptions\u7b49\u8bf7\u6c42\u65b9\u6cd5\u5982\u4e0b",level:3},{value:"\u5e26\u6709\u8bf7\u6c42\u5934\u548c\u8bf7\u6c42\u53c2\u6570\u7684\u8bf7\u6c42",id:"\u5e26\u6709\u8bf7\u6c42\u5934\u548c\u8bf7\u6c42\u53c2\u6570\u7684\u8bf7\u6c42",level:2},{value:"\u8bf7\u6c42\u5e26\u6709cookies",id:"\u8bf7\u6c42\u5e26\u6709cookies",level:2},{value:"\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4",id:"\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4",level:2},{value:"\u8bc1\u4e66/\u4ee3\u7406\u914d\u7f6e",id:"\u8bc1\u4e66\u4ee3\u7406\u914d\u7f6e",level:2}];function a(t){const e={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"httpx\u9700\u8981Python3.6+\uff08\u4f7f\u7528\u5f02\u6b65\u8bf7\u6c42\u9700\u8981Python3.8+\uff09"}),"\n",(0,s.jsx)(e.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"pip install httpx\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u9700\u8981\u4f7f\u7528HTTP/2\uff0c\u5219\u9700\u8981\u5b89\u88c5http2\u7684\u76f8\u5173\u4f9d\u8d56"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"pip install httpx[http2]\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u4f7f\u7528",children:"\u4f7f\u7528"}),"\n",(0,s.jsx)(e.p,{children:"httpx\u4e0erequests\u5e93\u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\u51e0\u4e4e\u662f\u4e00\u6a21\u4e00\u6837\u7684"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"import httpx\nr = httpx.get('https://httpbin.org/get')\nprint(r)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u7c7b\u4f3c\u7684\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528post-put-delete-head\u548coptions\u7b49\u8bf7\u6c42\u65b9\u6cd5\u5982\u4e0b",children:"\u7c7b\u4f3c\u7684\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528POST, PUT, DELETE, HEAD\u548cOPTIONS\u7b49\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5982\u4e0b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"r = httpx.post('https://httpbin.org/post', data={'key': 'value'})\nr = httpx.put('https://httpbin.org/put', data={'key': 'value'})\nr = httpx.delete('https://httpbin.org/delete')\nr = httpx.head('https://httpbin.org/get')\nr = httpx.options('https://httpbin.org/get')\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u5e26\u6709\u8bf7\u6c42\u5934\u548c\u8bf7\u6c42\u53c2\u6570\u7684\u8bf7\u6c42",children:"\u5e26\u6709\u8bf7\u6c42\u5934\u548c\u8bf7\u6c42\u53c2\u6570\u7684\u8bf7\u6c42"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"import httpx\nheaders = {'user-agent': 'my-app/1.0.0'}\nparams = {'key1': 'value1', 'key2': 'value2'}\nurl = 'https://httpbin.org/get'\nr = httpx.get(url, headers=headers, params=params)\nprint(r)\nprint(r.status_code) # \u72b6\u6001\u7801\nprint(r.encoding) # \u6587\u672c\u7f16\u7801\nprint(r.text)\nprint(r.json())\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u8bf7\u6c42\u5e26\u6709cookies",children:"\u8bf7\u6c42\u5e26\u6709cookies"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"import httpx\nurl = 'http://httpbin.org/cookies'\ncookies = {'color': 'green'}\nr = httpx.get(url, cookies=cookies)\nprint(r.json()) # {'cookies': {'color': 'green'}}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4",children:"\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"import httpx\nr = httpx.get('http://httpbin.org', timeout=0.001)\nprint(r)\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u8d85\u8fc7\u8bbe\u7f6e\u65f6\u95f4\u5219\u62a5",(0,s.jsx)(e.code,{children:"httpx.ConnectTimeout: timed out"})]}),"\n",(0,s.jsx)(e.h2,{id:"\u8bc1\u4e66\u4ee3\u7406\u914d\u7f6e",children:"\u8bc1\u4e66/\u4ee3\u7406\u914d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'proxies = {"http://":"http://localhost:8899"}\nclient = httpx.Client(http2=True, verify=False, proxies=proxies)\n\nclient.post()\nclient.get()\n'})})]})}function c(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(a,{...t})}):a(t)}}}]);